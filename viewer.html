<!DOCTYPE html>
<html>
<head>
	<title>Gen Art</title>
	<script type="text/javascript" src="gart.js"></script>
	<script type="text/javascript" src="assets.js"></script>
</head>
<body>
	<script type="text/javascript">
		var canvas = document.createElement('canvas');

		canvas.id = "main";
		canvas.width = 1024;
		canvas.height = 648;
		canvas.style.border = "1px solid";
		canvas.style.backgroundColor ="#000000";

		document.body.appendChild(canvas);

		var gart = new Gart(
			{
				canvas: canvas,
				fps: 60,
				modules: ["GArt_default"],
				animate: true,
				oncreate: (g)=>
				{			
					//cool shit
					
					let a = g.addParticle("fractal",{
						x:500,
						y:250,
						lifetime: 0,
						behavior_ops:
						{
							frequency: 3,
							distance: 30,
							max_gen: 3,
							newF: (o,i,f,gen) =>
							{
								return f+10;
							},
							newD: (o,i,d,gen)=>
							{
								return d*2.1;
							},
							genesis: (o, gen,i) =>
							{
								o.stroke = g.getStyleHSL(120*i/o.behavior_ops.frequency,100,50*(3-gen+1)/3);
								o.vx = 3*Math.cos(o.behavior_ops.direction+Math.PI/3);
								o.vy = 3*Math.sin(o.behavior_ops.direction+Math.PI/3);
							}
						},
						onstep: (o)=>
						{
							o.exclusion(0.0001*(5-o.behavior_ops.generation),1,1);
						}
					})

					// let a = g.addParticle("normal",
					// { 
					// 	r:1,
					// 	y:100,
					// 	behavior_ops: 
					// 	{
					// 		v: 1,
					// 		direction: 1	,
					// 		omega: Math.PI/100,
					// 	},
					// 	behaviors :  ["spiral",(o)=>{
					// 		o.behavior_ops.omega *= 0.999;
					// 	}]
					// });
				},
				onstep: (g)=>
				{
				}
			}
		);

	</script>
</body>
</html>